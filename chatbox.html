<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SAINTHALCYON Chatbox</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<style>
body {
  background: #ffd1e5;
  font-family: 'Press Start 2P', monospace;
  margin: 0;
  font-size: 10px;
}

#page {
  width: 1000px;
  margin: 20px auto;
  background: #fff5fb;
  border-width: 14px;
  border-style: solid;
  border-image: url("DIVIDER3.png") 30 round;
  padding: 10px;
}

#banner {
  width: 100%;
  height: 150px;
  border: 3px solid #6b6b6b;
  border-image: url("dividercake.png") 30 round;
  margin-bottom: 10px;
  background-size: cover;
  background-position: center;
}

#chat-container { display: flex; gap: 10px; }
#chat-messages {
  flex: 2;
  max-height: 400px;
  overflow-y: auto;
  padding: 6px;
  border: 3px double #6b6b6b;
  background: #fffdf7;
}
.message { border-bottom: 1px dotted #6b6b6b; margin-bottom:4px; padding-bottom:2px; }
.message-username { color: #ff8fab; }
.message-text { margin: 2px 0; }
.message-time { font-size: 7px; color: #6b6b6b; }

#draw-container { flex: 1; display: flex; flex-direction: column; gap: 6px; }
#canvas-container { position: relative; border: 3px double #6b6b6b; width: 220px; height: 220px; }
#draw-canvas { width: 100%; height: 100%; background: #fffdf7; image-rendering: pixelated; cursor: crosshair; display:block; }

#color-palette { display: flex; gap: 4px; margin-top:4px; }
.color-swatch { width: 20px; height: 20px; border: 1px solid #6b6b6b; cursor: pointer; }

#pen-size { margin-top: 4px; }

#sticker-container { margin-top: 6px; display: flex; gap: 4px; flex-wrap: wrap; }
.sticker { width: 40px; height: 40px; cursor: pointer; object-fit: cover; }

#chat-input { display: flex; gap: 4px; margin-top: 6px; }
#username, #message { padding: 2px; font-family: 'Press Start 2P', monospace; font-size: 9px; }
#username { width: 100px; }
#message { flex: 1; }
#send-button, #send-draw-button { padding: 2px 6px; font-family: 'Press Start 2P', monospace; font-size: 9px; cursor:pointer; background: linear-gradient(#ffe3ef, #ffbcd9); border: 2px solid #6b6b6b; }
#send-draw-button { margin-left: 2px; }
</style>
</head>

<body>
<div id="page">

  <div id="banner" style="background-image:url('banner1.gif')"></div>

  <div id="chat-container">
    <div id="chat-messages"></div>

    <div id="draw-container">
      <div id="canvas-container">
        <canvas id="draw-canvas"></canvas>
      </div>
      <div id="color-palette"></div>
      <label>Pen size:
        <input type="range" id="pen-size" min="1" max="20" value="4">
      </label>
      <div id="sticker-container">
        <img class="sticker" src="sticker1.gif">
        <img class="sticker" src="sticker2.gif">
        <img class="sticker" src="sticker3.gif">
      </div>
    </div>
  </div>

  <div id="chat-input">
    <input type="text" id="username" placeholder="username">
    <input type="text" id="message" placeholder="message">
    <button id="send-button">SEND</button>
    <button id="send-draw-button">SEND DRAW</button>
  </div>

</div>

<script>
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "sainthalcyon-87144.firebaseapp.com",
  databaseURL: "https://sainthalcyon-87144-default-rtdb.firebaseio.com", // <-- put your Firebase Realtime Database URL here
  projectId: "sainthalcyon-87144",
  storageBucket: "sainthalcyon-87144.appspot.com",
  messagingSenderId: "257264228367",
  appId: "1:257264228367:web:313ffc00542858c0152b7a"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// CHAT LOGIC
const chatMessages = document.getElementById("chat-messages");
const usernameInput = document.getElementById("username");
const messageInput = document.getElementById("message");
const sendButton = document.getElementById("send-button");
const sendDrawButton = document.getElementById("send-draw-button");

sendButton.addEventListener(
